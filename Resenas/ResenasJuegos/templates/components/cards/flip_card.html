<div class="h-80 min-w-[280px] [perspective:1000px]">
  <div
    class="group relative h-full w-full rounded-xl shadow-xl transition-all duration-500 [transform-style:preserve-3d] hover:[transform:rotateY(180deg)]">

    <!-- Cara frontal -->
    <div class="absolute inset-0 [backface-visibility:hidden]">
      {% with post.images.all|first as imagen %}
      {% if imagen %}
      <img src="{{ imagen.image.url }}" alt="{{ post.title }}"
        class="h-full w-full rounded-xl object-cover shadow-xl shadow-black/40">
      {% else %}
      <div class="h-full w-full rounded-xl bg-gray-700 flex justify-center items-center text-gray-300">
        Sin imagen
      </div>
      {% endif %}
      {% endwith %}
      <div class="absolute bottom-2 left-2 bg-darker-morado-transparent text-text-light px-2 py-1 rounded">
        {{ post.title }}
      </div>
    </div>

    <!-- Cara trasera -->
    <div
      class="absolute inset-0 h-full w-full rounded-xl bg-light-morado px-6 text-center text-text-light [transform:rotateY(180deg)] [backface-visibility:hidden] flex flex-col items-center justify-center">
      <h1 class="text-lg font-bold mb-2">{{ post.title }}</h1>
      <p class="text-sm mb-4">{{ post.content|truncatewords:20|default:"Sin descripción" }}</p>
      <a href="{% url 'post_detail' post.slug %}"
        class="mt-2 rounded-md bg-accent-blue py-2 px-4 text-sm font-semibold hover:bg-accent-blue-hover transition-colors">
        Ver más
      </a>
    </div>
  </div>
</div>