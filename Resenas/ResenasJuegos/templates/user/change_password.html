{% extends 'layouts/auth_layout.html' %}
{% load static %}
{% block title_layout %} | Cambiar Contraseña {% endblock title_layout %}

{% block content_layout %}
<div class="min-h-screen flex items-center justify-center bg-fixed bg-center bg-cover" style="background-image: url('{% static 'assets/login_register/fondo.png' %}');">
    <div class="relative w-full max-w-2xl px-8"> 

        <!-- Icono de Candado -->
        <div class="absolute w-28 h-28 border-2 border-accent-blue rounded-full bg-darker-morado
                    flex items-center justify-center text-5xl text-accent-blue z-10 mx-auto left-0 right-0 -top-12"> 
            <i class="fa fa-lock text-purple-50"></i>
        </div>

        <form method="post" class="flex flex-col p-10 pt-20 rounded-3xl bg-darker-morado-transparent border-2 border-accent-blue shadow-md">
            {% csrf_token %}

            <div class="relative mt-2 mb-4 text-xl font-bold text-light text-center">Cambiar Contraseña</div> 

            {% if form.errors %}
                <div class="msg py-3 text-center text-status-hot">
                    Por favor, corrige los siguientes errores:
                    {{ form.non_field_errors }}
                </div>
            {% endif %}

            <!-- Campo Contraseña Actual -->
            <div class="relative w-full mb-6"> 
                <label for="{{ form.current_password.id_for_label }}" class=" mb-1 block">Contraseña Actual</label>
                {{ form.current_password }}
                {% if form.current_password.errors %}
                    <div class="text-status-hot text-sm mt-1">{{ form.current_password.errors.as_text }}</div>
                {% endif %}
            </div>

            <!-- Campo Nueva Contraseña -->
            <div class="relative w-full mb-6"> 
                <label for="{{ form.new_password.id_for_label }}" class="mb-1 block">Nueva Contraseña</label>
                {{ form.new_password }}
                {% if form.new_password.errors %}
                    <div class="text-status-hot text-sm mt-1">{{ form.new_password.errors.as_text }}</div>
                {% endif %}
            </div>

            <!-- Campo Confirmar Nueva Contraseña -->
            <div class="relative w-full mb-6"> 
                <label for="{{ form.new_password_confirm.id_for_label }}" class=" mb-1 block">Confirmar Nueva Contraseña</label>
                {{ form.new_password_confirm }}
                {% if form.new_password_confirm.errors %}
                    <div class="text-status-hot text-sm mt-1">{{ form.new_password_confirm.errors.as_text }}</div>
                {% endif %}
            </div>

            <div class="py-8 btn-container self-center">
                <input type="submit" value="Guardar Cambios"
                       class="content-center px-8 py-3 bg-accent-blue text-light font-semibold text-lg rounded-xl
                              transition duration-300 hover:bg-accent-blue-hover cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">
            </div>

            <div class="text-light text-center mt-4 text-base">
                <a href="{% url 'edit_profile' %}" class="text-medium hover:text-light">Seguir editando el perfil</a>
            </div>

            <div class="text-light py-1 text-center mt-4 text-base">
                <a href="{% url 'user_profile' %}" class="text-medium hover:text-light">Volver al perfil</a>
            </div>
            
            <div class="text-light py-1 text-center mt-4 text-base">
                <a href="{% url 'home' %}" class="text-medium hover:text-light">Volver a la página principal</a>
            </div>
        </form>
    </div>
</div>
{% endblock content_layout %}


